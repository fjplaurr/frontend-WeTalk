{"ast":null,"code":"var _jsxFileName = \"/Users/fjpu/Code/frontend-postApp/src/containers/Home/FollowSection/FollowSection.component.tsx\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport useFetch from 'use-http';\nimport ProfileTarget from '../../../components/ProfileTarget';\nimport styles from './FollowSection.module.scss';\nimport * as usersRoutes from '../../../endpoints/user';\nimport { UserContext } from '../../App';\n\nconst FollowSection = () => {\n  // Reads current connected user from Context\n  const contextUser = useContext(UserContext);\n  const testUrl = 'data:image/png;base64,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';\n  const {\n    loading: followingLoading,\n    error: followingError,\n    get: followingGet,\n    response: followingResponse\n  } = useFetch(usersRoutes.getFollowing(contextUser.user._id));\n  const {\n    put: modifyUser,\n    response: modifyUserResponse,\n    data: userData\n  } = useFetch(usersRoutes.update(contextUser.user._id));\n  const {\n    loading: followersLoading,\n    error: followersError,\n    get: followersGet,\n    response: followersResponse\n  } = useFetch(usersRoutes.getFollowers(contextUser.user._id));\n  const [followingTabActive, setFollowingTabActive] = useState(true);\n  const [followersTabActive, setFollowersTabActive] = useState(false);\n  const [following, setFollowing] = useState([]);\n  const [followers, setFollowers] = useState([]); // Loads followed users from database\n\n  async function loadFollowing() {\n    const data = await followingGet();\n\n    if (followingResponse.ok) {\n      console.log('setting following');\n      console.log(data);\n      setFollowing(data);\n    }\n  } // Loads followed users after first render\n\n\n  useEffect(() => {\n    loadFollowing();\n  }, []); // Loads followers after first render\n\n  async function loadFollowers() {\n    const data = await followersGet();\n\n    if (followingResponse.ok) {\n      setFollowers(data);\n    }\n  }\n\n  useEffect(() => {\n    loadFollowers();\n  }, []);\n\n  const tabFollowingClick = () => {\n    if (!followingTabActive) {\n      setFollowingTabActive(true);\n      setFollowersTabActive(false);\n    }\n  };\n\n  const tabFollowersClick = () => {\n    if (!followersTabActive) {\n      setFollowersTabActive(true);\n      setFollowingTabActive(false);\n    }\n  };\n\n  const unfollowUser = async (event, clickedUser) => {\n    const user = { ...contextUser.user\n    };\n    const followingModified = user.following.filter(element => element.user !== clickedUser._id);\n    const modifiedUser = { ...user,\n      following: followingModified\n    }; // Modify user in context\n\n    await contextUser.setUser(modifiedUser); // Modify list of followed users in database\n\n    const res = await modifyUser(modifiedUser);\n    console.log('res is ');\n    console.log(res);\n    console.log('data is ');\n    console.log(userData);\n\n    if (modifyUserResponse.ok) {\n      // If the user has been successfully modified, loads followed users\n      loadFollowing();\n    }\n  };\n\n  const followingList = following.map(data => {\n    var _data$user$profileIma;\n\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: data.user._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ProfileTarget, {\n      description: data.user.description,\n      name: data.user.name,\n      surname: data.user.surname,\n      pictureUrl: (_data$user$profileIma = data.user.profileImage) === null || _data$user$profileIma === void 0 ? void 0 : _data$user$profileIma.url,\n      onClick: e => unfollowUser(e, data.user),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }));\n  });\n  const followersList = followers.map(data => {\n    var _data$user$profileIma2;\n\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: data.user._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ProfileTarget, {\n      description: data.user.description,\n      name: data.user.name,\n      surname: data.user.surname,\n      pictureUrl: (_data$user$profileIma2 = data.user.profileImage) === null || _data$user$profileIma2 === void 0 ? void 0 : _data$user$profileIma2.url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }\n    }));\n  });\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: styles.followSection,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.tabList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: tabFollowingClick,\n    className: followingTabActive ? styles.activeTab : styles.notActiveTab,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, \"Following\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: tabFollowersClick,\n    className: followersTabActive ? styles.activeTab : styles.notActiveTab,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, \"Followers\")), followingTabActive && followingList, followersTabActive && followersList);\n};\n\nexport default FollowSection;","map":{"version":3,"sources":["/Users/fjpu/Code/frontend-postApp/src/containers/Home/FollowSection/FollowSection.component.tsx"],"names":["React","useState","useEffect","useContext","useFetch","ProfileTarget","styles","usersRoutes","UserContext","FollowSection","contextUser","testUrl","loading","followingLoading","error","followingError","get","followingGet","response","followingResponse","getFollowing","user","_id","put","modifyUser","modifyUserResponse","data","userData","update","followersLoading","followersError","followersGet","followersResponse","getFollowers","followingTabActive","setFollowingTabActive","followersTabActive","setFollowersTabActive","following","setFollowing","followers","setFollowers","loadFollowing","ok","console","log","loadFollowers","tabFollowingClick","tabFollowersClick","unfollowUser","event","clickedUser","followingModified","filter","element","modifiedUser","setUser","res","followingList","map","description","name","surname","profileImage","url","e","followersList","followSection","tabList","activeTab","notActiveTab"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport useFetch from 'use-http';\nimport ProfileTarget from '../../../components/ProfileTarget';\nimport styles from './FollowSection.module.scss';\nimport * as usersRoutes from '../../../endpoints/user';\nimport { User } from '../../../interfaces';\nimport { UserContext } from '../../App';\n\nconst FollowSection = () => {\n  // Reads current connected user from Context\n  const contextUser = useContext(UserContext);\n\n  const testUrl = 'data:image/png;base64,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';\n\n  const {\n    loading: followingLoading, error: followingError,\n    get: followingGet, response: followingResponse,\n  } = useFetch(usersRoutes.getFollowing(contextUser.user!._id!));\n\n  const { put: modifyUser, response: modifyUserResponse, data: userData } = useFetch(usersRoutes.update(contextUser.user!._id!));\n\n  const {\n    loading: followersLoading, error: followersError,\n    get: followersGet, response: followersResponse,\n  } = useFetch(usersRoutes.getFollowers(contextUser.user!._id!));\n\n  const [followingTabActive, setFollowingTabActive] = useState(true);\n  const [followersTabActive, setFollowersTabActive] = useState(false);\n  const [following, setFollowing] = useState([]);\n  const [followers, setFollowers] = useState([]);\n\n  // Loads followed users from database\n  async function loadFollowing() {\n    const data = await followingGet();\n    if (followingResponse.ok) {\n      console.log('setting following')\n      console.log(data)\n      setFollowing(data);\n    }\n  }\n\n  // Loads followed users after first render\n  useEffect(() => {\n    loadFollowing();\n  }, []);\n\n  // Loads followers after first render\n  async function loadFollowers() {\n    const data = await followersGet();\n    if (followingResponse.ok) {\n      setFollowers(data);\n    }\n  }\n  useEffect(() => {\n    loadFollowers();\n  }, []);\n\n  const tabFollowingClick = () => {\n    if (!followingTabActive) {\n      setFollowingTabActive(true);\n      setFollowersTabActive(false);\n    }\n  };\n\n  const tabFollowersClick = () => {\n    if (!followersTabActive) {\n      setFollowersTabActive(true);\n      setFollowingTabActive(false);\n    }\n  };\n\n  const unfollowUser = async (event: React.MouseEvent<HTMLButtonElement>, clickedUser: User) => {\n    const user: User = { ...contextUser!.user! };\n    const followingModified = user.following!.filter((element) => element.user !== clickedUser._id);\n    const modifiedUser: User = { ...user, following: followingModified };\n    // Modify user in context\n    await contextUser.setUser(modifiedUser);\n    // Modify list of followed users in database\n    const res = await modifyUser(modifiedUser);\n    console.log('res is ')\n    console.log(res);\n    console.log('data is ')\n    console.log(userData);\n\n\n    if (modifyUserResponse.ok) {\n      // If the user has been successfully modified, loads followed users\n      loadFollowing();\n    }\n  };\n\n  const followingList = following.map((data: { user: User }) => {\n    return (\n      <React.Fragment key={data.user._id}>\n        <ProfileTarget\n          description={data.user.description}\n          name={data.user.name}\n          surname={data.user.surname}\n          pictureUrl={data.user.profileImage?.url}\n          onClick={(e) => unfollowUser(e, data.user)}\n        />\n      </React.Fragment>\n    );\n  });\n\n  const followersList = followers.map((data: { user: User }) => {\n    return (\n      <React.Fragment key={data.user._id}>\n        <ProfileTarget\n          description={data.user.description}\n          name={data.user.name}\n          surname={data.user.surname}\n          pictureUrl={data.user.profileImage?.url}\n        />\n      </React.Fragment>\n    );\n  });\n\n  return (\n    <section className={styles.followSection}>\n      <div className={styles.tabList}>\n        <button\n          onClick={tabFollowingClick}\n          className={followingTabActive ? styles.activeTab : styles.notActiveTab}\n        >\n          Following\n        </button>\n        <button\n          onClick={tabFollowersClick}\n          className={followersTabActive ? styles.activeTab : styles.notActiveTab}\n        >\n          Followers\n        </button>\n      </div>\n      {followingTabActive && followingList}\n      {followersTabActive && followersList}\n    </section>\n  );\n};\n\nexport default FollowSection;\n"]},"metadata":{},"sourceType":"module"}