{"ast":null,"code":"import * as userEndpoints from '../endpoints/user';\n\nconst loadUser = async () => {\n  const serializedState = localStorage.getItem('user');\n  const parsedObject = serializedState && JSON.parse(serializedState);\n  const user = await userEndpoints.getSingle(parsedObject.id);\n  return user;\n};\n\nconst saveUser = id => {\n  console.log('saving');\n  const serializedState = JSON.stringify({\n    id\n  });\n  console.log(serializedState);\n  localStorage.setItem('user', serializedState);\n};\n\nexport { loadUser, saveUser };","map":{"version":3,"sources":["/Users/fjpu/Code/frontend-postApp/src/helpers/localStorage.ts"],"names":["userEndpoints","loadUser","serializedState","localStorage","getItem","parsedObject","JSON","parse","user","getSingle","id","saveUser","console","log","stringify","setItem"],"mappings":"AAAA,OAAO,KAAKA,aAAZ,MAA+B,mBAA/B;;AAGA,MAAMC,QAAQ,GAAG,YAA2B;AAC1C,QAAMC,eAAe,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAxB;AACA,QAAMC,YAGL,GAAGH,eAAe,IAAII,IAAI,CAACC,KAAL,CAAWL,eAAX,CAHvB;AAIA,QAAMM,IAAI,GAAG,MAAMR,aAAa,CAACS,SAAd,CAAwBJ,YAAY,CAACK,EAArC,CAAnB;AACA,SAAOF,IAAP;AACD,CARD;;AAUA,MAAMG,QAAQ,GAAID,EAAD,IAAgB;AAC/BE,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,QAAMX,eAAe,GAAGI,IAAI,CAACQ,SAAL,CAAe;AAAEJ,IAAAA;AAAF,GAAf,CAAxB;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAYX,eAAZ;AACAC,EAAAA,YAAY,CAACY,OAAb,CAAqB,MAArB,EAA6Bb,eAA7B;AACD,CALD;;AAOA,SAASD,QAAT,EAAmBU,QAAnB","sourcesContent":["import * as userEndpoints from '../endpoints/user';\nimport { User } from '../interfaces';\n\nconst loadUser = async (): Promise<User> => {\n  const serializedState = localStorage.getItem('user');\n  const parsedObject: {\n    id: string,\n    token: string,\n  } = serializedState && JSON.parse(serializedState);\n  const user = await userEndpoints.getSingle(parsedObject.id);\n  return user;\n};\n\nconst saveUser = (id: string) => {\n  console.log('saving')\n  const serializedState = JSON.stringify({ id });\n  console.log(serializedState)\n  localStorage.setItem('user', serializedState);\n};\n\nexport { loadUser, saveUser };\n"]},"metadata":{},"sourceType":"module"}