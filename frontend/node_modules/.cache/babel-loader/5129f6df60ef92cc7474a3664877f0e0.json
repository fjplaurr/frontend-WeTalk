{"ast":null,"code":"var _jsxFileName = \"/Users/fjpu/Code/frontend-postApp/src/containers/Login/Signup/Signup.component.tsx\";\nimport React, { useContext, useReducer } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport TextInput from '../../../components/TextInput';\nimport UserContext from '../../../helpers/context';\nimport styles from './Signup.module.scss';\nimport * as authEndpoints from '../../../endpoints/auth';\nimport Button from '../../../components/Button';\n\nconst Signup = () => {\n  // React-context to access current connected user\n  const contextUser = useContext(UserContext); // Signup state\n\n  const initialState = {\n    signupName: '',\n    signupSurname: '',\n    signupEmail: '',\n    signupPassword: ''\n  }; // React-router history\n\n  const history = useHistory();\n\n  const reducer = (state, action) => {\n    switch (action.type) {\n      case 'supName':\n        return { ...state,\n          signupName: action.payload\n        };\n\n      case 'supSurname':\n        return { ...state,\n          signupSurname: action.payload\n        };\n\n      case 'supEmail':\n        return { ...state,\n          signupEmail: action.payload\n        };\n\n      case 'supPassword':\n        return { ...state,\n          signupPassword: action.payload\n        };\n\n      default:\n        return state;\n    }\n  };\n\n  const [state, dispatch] = useReducer(reducer, initialState); // Signup email change handler\n\n  const onstateHandler = (e, SignupActionType) => {\n    dispatch({\n      type: SignupActionType,\n      payload: e.currentTarget.value\n    });\n  }; // Function triggered when submiting sign up\n\n\n  const onSignupSubmit = async event => {\n    event.preventDefault();\n    const newUser = {\n      email: state.signupEmail,\n      password: state.signupPassword,\n      name: state.signupName,\n      surname: state.signupSurname\n    };\n\n    try {\n      const res = await authEndpoints.signup(newUser);\n\n      if (res) {\n        // Sets current user in context\n        await contextUser.setUser(res.user); // Pushes to home screen\n\n        history.push('./home');\n      }\n    } catch (err) {\n      history.push('./notfound');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.titleWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, \"Don't have an account?\")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSignupSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.inputWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextInput, {\n    onChange: e => onstateHandler(e, 'supName'),\n    type: \"text\",\n    placeholder: \"Name\",\n    idInput: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.inputWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextInput, {\n    onChange: e => onstateHandler(e, 'supSurname'),\n    type: \"text\",\n    placeholder: \"Surname\",\n    idInput: \"surname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.inputWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextInput, {\n    onChange: e => onstateHandler(e, 'supEmail'),\n    type: \"email\",\n    placeholder: \"Email\",\n    idInput: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.inputWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextInput, {\n    onChange: e => onstateHandler(e, 'supPassword'),\n    type: \"password\",\n    placeholder: \"Password\",\n    minLength: 6,\n    idInput: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    backgroundFull: true,\n    text: \"Join\",\n    color: \"blue\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.prueba,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, \"WHAT\"))));\n};\n\nexport default Signup;","map":{"version":3,"sources":["/Users/fjpu/Code/frontend-postApp/src/containers/Login/Signup/Signup.component.tsx"],"names":["React","useContext","useReducer","useHistory","TextInput","UserContext","styles","authEndpoints","Button","Signup","contextUser","initialState","signupName","signupSurname","signupEmail","signupPassword","history","reducer","state","action","type","payload","dispatch","onstateHandler","e","SignupActionType","currentTarget","value","onSignupSubmit","event","preventDefault","newUser","email","password","name","surname","res","signup","setUser","user","push","err","container","titleWrapper","title","inputWrapper","prueba"],"mappings":"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","sourcesContent":["import React, { useContext, useReducer } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport TextInput from '../../../components/TextInput';\nimport { User } from '../../../interfaces';\nimport UserContext from '../../../helpers/context';\nimport styles from './Signup.module.scss';\nimport * as authEndpoints from '../../../endpoints/auth';\nimport Button from '../../../components/Button';\n\nconst Signup = () => {\n  // React-context to access current connected user\n  const contextUser = useContext(UserContext);\n\n  // Signup state\n  const initialState = {\n    signupName: '',\n    signupSurname: '',\n    signupEmail: '',\n    signupPassword: '',\n  };\n\n  // React-router history\n  const history = useHistory();\n\n  type SignupActionType = 'supName' | 'supSurname' | 'supEmail' | 'supPassword'\n  type SignupAction = { type: SignupActionType; payload: string };\n\n  const reducer = (state: typeof initialState, action: SignupAction) => {\n    switch (action.type) {\n      case 'supName':\n        return { ...state, signupName: action.payload };\n      case 'supSurname':\n        return { ...state, signupSurname: action.payload };\n      case 'supEmail':\n        return { ...state, signupEmail: action.payload };\n      case 'supPassword':\n        return { ...state, signupPassword: action.payload };\n      default:\n        return state;\n    }\n  };\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  // Signup email change handler\n  const onstateHandler = (e: React.ChangeEvent<HTMLInputElement>,\n    SignupActionType: SignupActionType) => {\n    dispatch({ type: SignupActionType, payload: e.currentTarget.value });\n  };\n\n  // Function triggered when submiting sign up\n  const onSignupSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    const newUser: User = {\n      email: state.signupEmail,\n      password: state.signupPassword,\n      name: state.signupName,\n      surname: state.signupSurname,\n    };\n    try {\n      const res: { user: User, token: string } = await authEndpoints.signup(newUser);\n      if (res) {\n        // Sets current user in context\n        await contextUser.setUser(res.user);\n        // Pushes to home screen\n        history.push('./home');\n      }\n    } catch (err) {\n      history.push('./notfound');\n    }\n  };\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.titleWrapper}>\n        <h1 className={styles.title}>Don&apos;t have an account?</h1>\n      </div>\n      <form onSubmit={onSignupSubmit}>\n        <div className={styles.inputWrapper}>\n          <TextInput\n            onChange={(e) => onstateHandler(e, 'supName')}\n            type=\"text\"\n            placeholder=\"Name\"\n            idInput=\"name\"\n          />\n        </div>\n        <div className={styles.inputWrapper}>\n          <TextInput\n            onChange={(e) => onstateHandler(e, 'supSurname')}\n            type=\"text\"\n            placeholder=\"Surname\"\n            idInput=\"surname\"\n          />\n        </div>\n        <div className={styles.inputWrapper}>\n          <TextInput\n            onChange={(e) => onstateHandler(e, 'supEmail')}\n            type=\"email\"\n            placeholder=\"Email\"\n            idInput=\"email\"\n          />\n        </div>\n        <div className={styles.inputWrapper}>\n          <TextInput\n            onChange={(e) => onstateHandler(e, 'supPassword')}\n            type=\"password\"\n            placeholder=\"Password\"\n            minLength={6}\n            idInput=\"password\"\n          />\n        </div>\n        <Button\n          backgroundFull\n          text=\"Join\"\n          color=\"blue\"\n          type=\"submit\"\n        />\n        <div>\n\n        <div className={styles.prueba}>WHAT</div>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}